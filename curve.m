function r=curve(z)
% Creates a function with the 2-dim shape of a tesla cavity with
% parameters z as r(z)

% Parameters as given by the TESLA Design paper
a=12;
b=19;
R=42;

% radius of cut-off tube
co=35;

r=co.*(z<0);
%for i=0:1:8
i=0;
%r=r+(((-1)*(b.^2 - ((b.^2.*(z-(105.6+i.*115.4)).^2)/(a.^2))).^.5)+b+co).*(z>(105.6+i*115.4) & z<(116.9+i*115.4));
%r=r+(4.2274*((z-(163.3+i*115.4)))+243.751).*(z>=(116.9+i*115.4) & z<(122.6+i*115.4));
%r=r+((R^2 - ((z-(163.3+i*115.4)).^2)).^.5 + 61.3).*(z>=(122.6+i*115.4) & z<(163.3+i*115.4));
%r=r+((R^2 - ((z-(163.3+i*115.4)).^2)).^.5 + 61.3).*(z>=(163.3+i*115.4) & z<(204+i*115.4));
%r=r+(4.2274*(((163.3+i*115.4)-z))+243.751).*(z>=(204+i*115.4) & z<(209.7+i*115.4));
%r=r+(((-1)*(b.^2 - ((b.^2.*((105.6+(i+1).*115.4)-z).^2)/(a.^2))).^.5)+b+co).*(z>=(209.7+i*115.4) & z<=(221+i*115.4));
%end

r=r+((R^2 - ((z).^2)).^.5 + 61.3).*(z>=(0) & z<(40.7));
r=r+(4.2274*((-z))+243.751).*(z>=(40.7) & z<(46.4));
r=r+(((-1)*(b.^2 - ((b.^2.*((-57.7+(i+1).*115.4)-z).^2)/(a.^2))).^.5)+b+co).*(z>=(46.4) & z<=(57.7));






%r=r+co.*(z>(221));


end

